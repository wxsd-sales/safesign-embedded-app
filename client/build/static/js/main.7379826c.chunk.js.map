{"version":3,"sources":["components/navbar/navbar.js","components/familyFormComponents/inputform.js","pages/familyForm/familyForm.js","pages/landing/landing.js","pages/signingCompleted/signingCompleted.js","App.js","reportWebVitals.js","index.js","EmbeddedAppSDK.js"],"names":["require","Navbar","Nav","Container","MyNav","bg","expand","Brand","Toggle","Collapse","id","className","Link","href","style","color","InputForm","props","state","showFillAlert","displayName","back","bind","submit","event","preventDefault","this","prevPage","submitForm","buttonDisp","fillAlert","values","loadingSigning","Button","variant","disabled","Spinner","animation","role","onClick","type","Alert","onClose","dismissFillAlert","dismissible","Heading","ListGroup","fieldsNeedFilling","map","field","idx","Item","Row","Col","xs","Card","Body","Title","Form","Group","as","Label","Control","name","value","onChange","handleChange","required","displayEmail","placeholder","defaultValue","Date","toLocaleDateString","React","Component","FamilyForm","console","log","step","signingUrl","otherEthSelected","parentName","parentEmail","currentDate","handleInputChange","nextPage","runSigning","target","checked","setState","a","inputVals","inputNotFilled","Object","entries","key","push","test","length","runLogin","fetch","headers","method","body","JSON","stringify","currentdate","credentials","then","res","ok","json","Error","data","window","location","catch","error","navigate","err","embeddedAppSDK","getUser","user","email","curForm","LandingPage","shareApp","queryString","SigningDone","signResult","parse","search","showSignResult","NotFound","App","path","default","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","app","Webex","Application","callback","listen","payload","onReady","isShared","context","getMeeting","getSpace","url","setShareUrl","clearShareUrl","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7379826c.chunk.js","sourcesContent":["const React = require(\"react\");\nconst { Navbar, Nav, Container} = require(\"react-bootstrap\");\n\nconst MyNav = () => {\n  return (\n    <Navbar bg=\"light\" expand=\"lg\">\n      <Container>\n      <Navbar.Brand>\n      üîèSafeSign\n      </Navbar.Brand>\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n\n      <Navbar.Collapse id=\"basic-navbar-nav\">\n        <Nav className=\"mr-auto\" >\n          <Nav.Link href='/'>\n            Home\n          </Nav.Link>\n          {/* <Nav.Link href='/admin'>\n            Admin\n          </Nav.Link> */}\n        </Nav>\n        \n        <Navbar.Collapse className=\"justify-content-end\">\n          <Nav.Link href='webexteams://im?space=cb8b50a0-2798-11ec-986a-3393309750bc' style={{color: \"#717172\"}}>\n            Webex Solutions Development Team\n          </Nav.Link>\n        </Navbar.Collapse>\n        \n      </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  )\n};\n\nexport default MyNav;","import React from 'react';\nimport {Row, Col, Card, Form, Button, Spinner, Alert, ListGroup} from 'react-bootstrap';\n\nclass InputForm extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      showFillAlert: false,\n      displayName: ''\n    }\n    this.back = this.back.bind(this);\n    this.submit = this.submit.bind(this);\n  }\n\n  back(event) {\n    event.preventDefault();\n    this.props.prevPage();\n  }\n\n  submit(event) {\n    event.preventDefault();\n    this.props.submitForm();\n  }\n  \n  render() {\n    let buttonDisp;\n\n    if (this.props.values.loadingSigning) {\n      buttonDisp = (\n        <Button variant=\"success\" disabled>\n          <Spinner animation=\"border\" role=\"status\" variant=\"light\">\n            <span className=\"visually-hidden\">Loading...</span>\n          </Spinner>\n        </Button>\n        );\n    } else {\n      buttonDisp = (\n        <Button variant=\"success\" onClick={this.submit} className='form-button' type=\"submit\">\n          Review and eSign\n        </Button>\n      );\n    }\n    let fillAlert;\n    if (this.props.values.showFillAlert) {\n      fillAlert = (\n        <Alert variant=\"danger\" onClose={this.props.dismissFillAlert} dismissible>\n          <Alert.Heading>Please fill out or fix the following fields:</Alert.Heading>\n          <ListGroup variant=\"flush\">\n            {this.props.values.fieldsNeedFilling.map((field, idx) => \n              <ListGroup.Item variant=\"danger\" key={idx}>{field}</ListGroup.Item>\n            )}\n          </ListGroup>\n      </Alert>\n      )\n    }\n\n  \n    \n    return (\n      <Row>\n        <Col></Col>\n        <Col xs={8}>\n          <Card className=\"input-card\">\n            <Card.Body>\n            <Card.Title></Card.Title>\n            <Form>\n              <Form.Group as={Col}>\n                <Form.Label>Name</Form.Label>\n                <Form.Control type=\"text\" name=\"parentName\" value={this.props.displayName}\n                 onChange={this.props.handleChange} required/>\n              </Form.Group>\n            <Form.Group as={Col} >\n              <Form.Label>Email</Form.Label>\n              <Form.Control type=\"email\" name=\"parentEmail\" value={this.props.displayEmail} onChange={this.props.handleChange} required/>\n            </Form.Group>\n            <Form.Group as={Col} >\n              <Form.Label>Date</Form.Label>\n              <Form.Control type=\"date\" placeholder=\"Date\" name=\"currentDate\" defaultValue={new Date().toLocaleDateString()} onChange={this.props.handleChange} required/>\n            </Form.Group>\n              {buttonDisp}\n            </Form>\n            </Card.Body>\n          </Card>\n          {fillAlert}\n        </Col>\n        <Col></Col>\n      </Row>\n    )\n  }\n}\n\nexport default InputForm;","import React from \"react\";\nimport InputForm from \"../../components/familyFormComponents/inputform\";\nimport { navigate } from \"@reach/router\";\n\nclass FamilyForm extends React.Component {\n\n  constructor(props) {\n    super(props);\n    //initalizing state to pre-filled values\n    console.log(\"---Family form---\")\n    console.log(props)\n    this.state = {\n      step: 1, \n      signingUrl: '', \n      loadingSigning: false,\n      otherEthSelected: false,\n      showFillAlert: false,\n      parentName: '',\n      parentEmail: 'test@gmail.com',\n      currentDate: new Date().toLocaleDateString(),\n      fieldsNeedFilling: []\n    };\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.nextPage = this.nextPage.bind(this);\n    this.prevPage = this.prevPage.bind(this);\n    this.runSigning = this.runSigning.bind(this);\n    this.dismissFillAlert = this.dismissFillAlert.bind(this);\n    //this.displayName = this.displayName.bind(this);\n  }\n\n\n\n  handleInputChange(event) {\n    const target = event.target;\n    const name = target.name;\n    console.log(\"name inside handle input change\", name)\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n   \n    \n    this.setState({\n      [name]: value\n    });\n  } \n\n  async runSigning (event) {\n    // get information about unfilled fields to user, if necessary\n    console.log(\"run signing\")\n    console.log(event);\n    const inputVals = {\n      'Employee\\'s Name': this.state.parentName,\n      'Employee\\'s email': this.state.parentEmail,\n      'Current Date': this.state.currentDate\n    };\n    const inputNotFilled = [];\n    for (const [key, value] of Object.entries(inputVals)) {\n      if (value === '') {\n        inputNotFilled.push(key);\n      }\n    }\n    // validate email\n    if (!(/^[a-zA-Z0-9]+@[a-zA-Z0-9]+\\.[A-Za-z]+$/.test(this.state.parentEmail))) { \n      inputNotFilled.push('Employee\\'s email');\n    }\n\n    if (inputNotFilled.length !== 0) {\n      this.setState({showFillAlert: true, fieldsNeedFilling: inputNotFilled});\n      return;\n    }\n\n    // start login and get signing URL\n    this.setState({loadingSigning: true, showFillAlert: false});\n    try {\n      await this.runLogin();\n      fetch('/api/eg001/family',\n      {\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        method: 'POST',\n        body: JSON.stringify({\n          // transmit form info to backend\n          parentName: this.state.parentName,\n          parentEmail: this.state.parentEmail,\n          currentdate: this.state.currentDate\n        }),\n        credentials: 'include'\n      })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        } else {\n          throw new Error('Signing input not accepted');\n        }\n      })\n      .then(data => {\n        this.setState({signingUrl: data.signingUrl}, () => {\n          window.location.href = data.signingUrl;\n        });\n      })\n      .catch(error => {\n        console.log(error);\n        navigate('/bad/');\n      })\n    } catch (error) {\n      console.log(error);\n      navigate('/bad');\n    }\n  }\n\n  runLogin() {\n    const res = fetch('/api/login', {\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      method: 'POST',\n      credentials: 'include'\n    })\n    .catch(err => {\n      console.log(\"login failed error\");\n      console.log(err);\n      throw new Error('Login failed');\n    });\n    return res;\n  }\n\n  nextPage() {\n    const step = this.state.step;\n    if (step < 3) {\n      this.setState({step: step + 1});\n    }\n  }\n\n  prevPage() {\n    const step = this.state.step;\n    if (step > 1) {\n      this.setState({step : step - 1});\n    }\n  }\n\n  dismissFillAlert() {\n    this.setState({showFillAlert: false});\n  }\n\n\n  componentDidMount() {\n    this.props.embeddedAppSDK.getUser().then((user) => {\n      console.log(user)\n      this.setState({\n        parentName: user.displayName,\n        parentEmail: user.email\n      })\n    })\n  }\n  \n  render() {\n    let curForm;\n    \n    switch (this.state.step) {\n      case 1:\n        curForm = <InputForm\n                handleChange = {this.handleInputChange}\n                prevPage = {this.prevPage}\n                submitForm = {this.runSigning}\n                dismissFillAlert = {this.dismissFillAlert}\n                values = {this.state}\n                displayName = {this.state.parentName}\n                displayEmail = {this.state.parentEmail}\n                embeddedAppSDK={this.props.embeddedAppSDK}\n                />\n        break;\n      default:\n        curForm = <h1>Impossible! :o</h1>\n    }\n    return (\n      <div className='input-page'>\n        <div id='form-header'>NDA review</div>\n        {curForm}\n      </div>\n    )\n  }\n}\n\nexport default FamilyForm;","import React from \"react\"\nimport {Button, Container, Row, Col} from \"react-bootstrap\"\n\n\nclass LandingPage extends React.Component {\n\n  render() {\n    \n    const allowOthers = (event) => {\n      event.preventDefault();\n      this.props.embeddedAppSDK.shareApp(`https://safesign.wbx.ninja/nda`);\n    };\n    return (\n      <Container id='homeContainer'>\n        <Row>\n          <Col>\n            <div className='Landing-card'>\n              <h1>Welcome to Safe Sign!</h1>\n            </div>\n            <div>\n            <Button href='/nda/' variant=\"success\" onClick={allowOthers}>Get started</Button>\n            </div>\n            <div id='social-worker-link'>\n            New User? <a href='https://go.docusign.com/trial/us-goog-trynow/?elqCampaignId=14921&utm_source=google&utm_medium=cpc&utm_campaign=branded_primary&utm_term=docusign&utm_content=domestic_US&gclid=EAIaIQobChMI8uqE95Ln8wIVwRt9Ch1RjAGLEAAYASAAEgIHOPD_BwE' id=\"med-form-click-here\">Sign up here</a>\n            </div>\n          </Col>\n        </Row>\n      </Container>\n    )\n  }\n} \n\nexport default LandingPage;","import React from \"react\"\nconst queryString = require('query-string');\n\nclass SigningDone extends React.Component {\n\n  constructor(props) {\n    super(props);\n    console.log(\"Signing done page\")\n    console.log(props);\n    this.state = {signResult: ''};\n  }\n\n  componentDidMount() {\n    \n    this.setState({signResult: queryString.parse(this.props.location.search).event});\n    console.log(this.state.signResult);\n    this.props.embeddedAppSDK.shareApp(`https://safesign.wbx.ninja/signingDone`);\n  }\n\n  render() {\n    let showSignResult;\n    \n    switch (this.state.signResult) {\n      case 'cancel':\n        showSignResult = (\n        <div>\n          <h1>Signing has been cancelled.</h1> \n          <h3>If unintentional, please resubmit form.</h3>\n        </div>\n        )\n        console.log(\"sign result: \", this.state.signResult)\n        break;\n      case 'decline':\n        showSignResult = (\n          <div>\n            <h1>Signing has been declined.</h1> \n            <h3>If unintentional, please resubmit form.</h3>\n          </div>\n          )\n          console.log(\"sign result: \", this.state.signResult)\n        break;\n      default:\n        showSignResult = <h1>Thank you!</h1>;\n        console.log(\"sign result: \", this.state.signResult)\n    }\n    return (\n      <header className='App-header'>\n        {showSignResult}\n      </header>\n    );\n  }\n}\n\nexport default SigningDone;","import React from \"react\"\nimport './App.css';\nimport MyNav from \"./components/navbar/navbar\"\nimport FamilyForm from \"./pages/familyForm/familyForm\";\nimport LandingPage from './pages/landing/landing'\nimport SigningDone from './pages/signingCompleted/signingCompleted'\nimport { Router } from \"@reach/router\"\n\nconst NotFound = () => (\n  <div className='App-header'>\n    <h2>Page not found, or there's been some error.</h2>\n  </div>\n);\n\nfunction App(props) {\n\n  return (\n    <div className=\"App\">\n      <MyNav></MyNav>\n      <Router>\n        <LandingPage path='/' embeddedAppSDK={props.embeddedAppSDK}></LandingPage>\n        <FamilyForm path='/nda/' embeddedAppSDK={props.embeddedAppSDK}></FamilyForm>      \n        <SigningDone path='/signingDone/' embeddedAppSDK={props.embeddedAppSDK}></SigningDone>\n        <NotFound default />\n      </Router>\n      \n    </div>\n  );\n  \n}\n\nexport default App;\n\n//<AdminPage path='/admin/'></AdminPage>","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport EmbeddedAppSDK from './EmbeddedAppSDK';\n\nconst embeddedAppSDK = new EmbeddedAppSDK();\n\nembeddedAppSDK.onReady().then(() => {\n  console.log(\"My app is running üéâ\")\n  ReactDOM.render(\n    <React.StrictMode>\n      <App embeddedAppSDK={embeddedAppSDK}/>\n    </React.StrictMode>,\n    document.getElementById('root')\n  );\n})\n\nreportWebVitals();\n","\nconst appContextUpdateEvent = 'application:displayContextChanged'; \nconst appShareStateUpdateEvent = 'application:shareStateChanged';\nconst appThemeUpdateEvent = 'application:themeChanged';\nconst meetingInfoUpdateEvent = 'meeting:infoChanged';\nconst meetingRoleUpdateEvent = 'meeting:roleChanged';\nconst spaceInfoUpdateEvent = 'space:infoChanged';\n\nexport default class EmbeddedAppSDK {\n  constructor() {\n    this.app = new window.Webex.Application();\n  }\n\n  subscribe(callback) {\n    this.app.listen(appContextUpdateEvent, (payload) => {callback(payload)});\n    this.app.listen(appShareStateUpdateEvent, (payload) => {callback(payload)});\n    this.app.listen(appThemeUpdateEvent, (payload) => {callback(payload)});\n    this.app.listen(meetingInfoUpdateEvent, (payload) => {callback(payload)});\n    this.app.listen(meetingRoleUpdateEvent, (payload) => {callback(payload)});\n    this.app.listen(spaceInfoUpdateEvent, (payload) => {callback(payload)});\n  }\n\n  async onReady() {\n    return this.app.onReady();\n  }\n\n  isAppBeingShared() {\n    return this.app.isShared;\n  }\n\n  async getUser() {\n    return this.app.context.getUser();\n  }\n\n  async getMeeting() {\n    return this.app.context.getMeeting();\n  }\n\n  async getSpace() {\n    return this.app.context.getSpace();\n  }\n\n  shareApp(url) {\n    this.app.setShareUrl(url);\n  }\n\n  stopSharingApp(){\n    this.app.clearShareUrl();\n  }\n\n}"],"sourceRoot":""}