(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{116:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),s=n(25),r=n.n(s),c=(n(89),n(90),n(1)),l=(n(0),n(75)),o=l.Navbar,p=l.Nav,h=l.Container,u=function(){return Object(c.jsx)(o,{bg:"light",expand:"lg",children:Object(c.jsxs)(h,{children:[Object(c.jsx)(o.Brand,{children:"\ud83d\udd0fSafeSign"}),Object(c.jsx)(o.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(c.jsxs)(o.Collapse,{id:"basic-navbar-nav",children:[Object(c.jsx)(p,{className:"mr-auto",children:Object(c.jsx)(p.Link,{href:"/",children:"Home"})}),Object(c.jsx)(o.Collapse,{className:"justify-content-end",children:Object(c.jsx)(p.Link,{href:"webexteams://im?space=cb8b50a0-2798-11ec-986a-3393309750bc",style:{color:"#717172"},children:"Webex Solutions Development Team"})})]})]})})},d=n(27),b=n.n(d),j=n(12),g=n(44),m=n(9),f=n(23),O=n(24),v=n(29),x=n(31),y=n(30),S=n(37),k=n(80),A=n(76),w=n(78),C=n(79),D=n(55),N=n(83),E=n(82),F=function(e){Object(x.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(f.a)(this,n),(a=t.call(this,e)).state={showFillAlert:!1,displayName:""},a.back=a.back.bind(Object(v.a)(a)),a.submit=a.submit.bind(Object(v.a)(a)),a}return Object(O.a)(n,[{key:"back",value:function(e){e.preventDefault(),this.props.prevPage()}},{key:"submit",value:function(e){e.preventDefault(),this.props.submitForm()}},{key:"render",value:function(){var e,t;return e=this.props.values.loadingSigning?Object(c.jsx)(S.a,{variant:"success",disabled:!0,children:Object(c.jsx)(k.a,{animation:"border",role:"status",variant:"light",children:Object(c.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):Object(c.jsx)(S.a,{variant:"success",onClick:this.submit,className:"form-button",type:"submit",children:"Review and eSign"}),this.props.values.showFillAlert&&(t=Object(c.jsxs)(A.a,{variant:"danger",onClose:this.props.dismissFillAlert,dismissible:!0,children:[Object(c.jsx)(A.a.Heading,{children:"Please fill out or fix the following fields:"}),Object(c.jsx)(w.a,{variant:"flush",children:this.props.values.fieldsNeedFilling.map((function(e,t){return Object(c.jsx)(w.a.Item,{variant:"danger",children:e},t)}))})]})),Object(c.jsxs)(C.a,{children:[Object(c.jsx)(D.a,{}),Object(c.jsxs)(D.a,{xs:8,children:[Object(c.jsx)(N.a,{className:"input-card",children:Object(c.jsxs)(N.a.Body,{children:[Object(c.jsx)(N.a.Title,{}),Object(c.jsxs)(E.a,{children:[Object(c.jsxs)(E.a.Group,{as:D.a,children:[Object(c.jsx)(E.a.Label,{children:"Name"}),Object(c.jsx)(E.a.Control,{type:"text",name:"parentName",value:this.props.displayName,onChange:this.props.handleChange,required:!0})]}),Object(c.jsxs)(E.a.Group,{as:D.a,children:[Object(c.jsx)(E.a.Label,{children:"Email"}),Object(c.jsx)(E.a.Control,{type:"email",name:"parentEmail",value:this.props.displayEmail,onChange:this.props.handleChange,required:!0})]}),Object(c.jsxs)(E.a.Group,{as:D.a,children:[Object(c.jsx)(E.a.Label,{children:"Date"}),Object(c.jsx)(E.a.Control,{type:"date",placeholder:"Date",name:"currentDate",defaultValue:(new Date).toLocaleDateString(),onChange:this.props.handleChange,required:!0})]}),e]})]})}),t]}),Object(c.jsx)(D.a,{})]})}}]),n}(i.a.Component),I=n(52),L=function(e){Object(x.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(f.a)(this,n),a=t.call(this,e),console.log("---Family form---"),console.log(e),a.state={step:1,signingUrl:"",loadingSigning:!1,otherEthSelected:!1,showFillAlert:!1,parentName:"",parentEmail:"test@gmail.com",currentDate:(new Date).toLocaleDateString(),fieldsNeedFilling:[]},a.handleInputChange=a.handleInputChange.bind(Object(v.a)(a)),a.nextPage=a.nextPage.bind(Object(v.a)(a)),a.prevPage=a.prevPage.bind(Object(v.a)(a)),a.runSigning=a.runSigning.bind(Object(v.a)(a)),a.dismissFillAlert=a.dismissFillAlert.bind(Object(v.a)(a)),a}return Object(O.a)(n,[{key:"handleInputChange",value:function(e){var t=e.target,n=t.name;console.log("name inside handle input change",n);var a="checkbox"===t.type?t.checked:t.value;this.setState(Object(m.a)({},n,a))}},{key:"runSigning",value:function(){var e=Object(g.a)(b.a.mark((function e(t){var n,a,i,s,r,c,l=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(console.log("run signing"),console.log(t),n={"Employee's Name":this.state.parentName,"Employee's email":this.state.parentEmail,"Current Date":this.state.currentDate},a=[],i=0,s=Object.entries(n);i<s.length;i++)r=Object(j.a)(s[i],2),c=r[0],""===r[1]&&a.push(c);if(/^[a-zA-Z0-9]+@[a-zA-Z0-9]+\.[A-Za-z]+$/.test(this.state.parentEmail)||a.push("Employee's email"),0===a.length){e.next=9;break}return this.setState({showFillAlert:!0,fieldsNeedFilling:a}),e.abrupt("return");case 9:return this.setState({loadingSigning:!0,showFillAlert:!1}),e.prev=10,e.next=13,this.runLogin();case 13:fetch("/api/eg001/family",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({parentName:this.state.parentName,parentEmail:this.state.parentEmail,currentdate:this.state.currentDate}),credentials:"include"}).then((function(e){if(e.ok)return e.json();throw new Error("Signing input not accepted")})).then((function(e){l.setState({signingUrl:e.signingUrl},(function(){window.location.href=e.signingUrl}))})).catch((function(e){console.log(e),Object(I.b)("/bad/")})),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(10),console.log(e.t0),Object(I.b)("/bad");case 20:case"end":return e.stop()}}),e,this,[[10,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"runLogin",value:function(){return fetch("/api/login",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",credentials:"include"}).catch((function(e){throw console.log("login failed error"),console.log(e),new Error("Login failed")}))}},{key:"nextPage",value:function(){var e=this.state.step;e<3&&this.setState({step:e+1})}},{key:"prevPage",value:function(){var e=this.state.step;e>1&&this.setState({step:e-1})}},{key:"dismissFillAlert",value:function(){this.setState({showFillAlert:!1})}},{key:"componentDidMount",value:function(){var e=this;this.props.embeddedAppSDK.getUser().then((function(t){console.log(t),e.setState({parentName:t.displayName,parentEmail:t.email})}))}},{key:"render",value:function(){var e;switch(this.state.step){case 1:e=Object(c.jsx)(F,{handleChange:this.handleInputChange,prevPage:this.prevPage,submitForm:this.runSigning,dismissFillAlert:this.dismissFillAlert,values:this.state,displayName:this.state.parentName,displayEmail:this.state.parentEmail,embeddedAppSDK:this.props.embeddedAppSDK});break;default:e=Object(c.jsx)("h1",{children:"Impossible! :o"})}return Object(c.jsxs)("div",{className:"input-page",children:[Object(c.jsx)("div",{id:"form-header",children:"NDA review"}),e]})}}]),n}(i.a.Component),P=n(77),R=function(e){Object(x.a)(n,e);var t=Object(y.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){var e=this;return Object(c.jsx)(P.a,{id:"homeContainer",children:Object(c.jsx)(C.a,{children:Object(c.jsxs)(D.a,{children:[Object(c.jsx)("div",{className:"Landing-card",children:Object(c.jsx)("h1",{children:"Welcome to Safe Sign!"})}),Object(c.jsx)("div",{children:Object(c.jsx)(S.a,{href:"/nda/",variant:"success",onClick:function(t){t.preventDefault(),e.props.embeddedAppSDK.shareApp("https://safesign.wbx.ninja/nda")},children:"Get started"})}),Object(c.jsxs)("div",{id:"social-worker-link",children:["New User? ",Object(c.jsx)("a",{href:"https://go.docusign.com/trial/us-goog-trynow/?elqCampaignId=14921&utm_source=google&utm_medium=cpc&utm_campaign=branded_primary&utm_term=docusign&utm_content=domestic_US&gclid=EAIaIQobChMI8uqE95Ln8wIVwRt9Ch1RjAGLEAAYASAAEgIHOPD_BwE",id:"med-form-click-here",children:"Sign up here"})]})]})})})}}]),n}(i.a.Component),K=n(100),U=function(e){Object(x.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(f.a)(this,n),a=t.call(this,e),console.log("Signing done page"),console.log(e),a.state={signResult:""},a}return Object(O.a)(n,[{key:"componentDidMount",value:function(){this.setState({signResult:K.parse(this.props.location.search).event}),console.log(this.state.signResult),this.props.embeddedAppSDK.shareApp("https://safesign.wbx.ninja/signingDone")}},{key:"render",value:function(){var e;switch(this.state.signResult){case"cancel":e=Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Signing has been cancelled."}),Object(c.jsx)("h3",{children:"If unintentional, please resubmit form."})]}),console.log("sign result: ",this.state.signResult);break;case"decline":e=Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Signing has been declined."}),Object(c.jsx)("h3",{children:"If unintentional, please resubmit form."})]}),console.log("sign result: ",this.state.signResult);break;default:e=Object(c.jsx)("h1",{children:"Thank you!"}),console.log("sign result: ",this.state.signResult)}return Object(c.jsx)("header",{className:"App-header",children:e})}}]),n}(i.a.Component),T=function(){return Object(c.jsx)("div",{className:"App-header",children:Object(c.jsx)("h2",{children:"Page not found, or there's been some error."})})};var _=function(e){return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(u,{}),Object(c.jsxs)(I.a,{children:[Object(c.jsx)(R,{path:"/",embeddedAppSDK:e.embeddedAppSDK}),Object(c.jsx)(L,{path:"/nda/",embeddedAppSDK:e.embeddedAppSDK}),Object(c.jsx)(U,{path:"/signingDone/",embeddedAppSDK:e.embeddedAppSDK}),Object(c.jsx)(T,{default:!0})]})]})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,121)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),s(e),r(e)}))},B=(n(115),new(function(){function e(){Object(f.a)(this,e),this.app=new window.Webex.Application}return Object(O.a)(e,[{key:"subscribe",value:function(e){this.app.listen("application:displayContextChanged",(function(t){e(t)})),this.app.listen("application:shareStateChanged",(function(t){e(t)})),this.app.listen("application:themeChanged",(function(t){e(t)})),this.app.listen("meeting:infoChanged",(function(t){e(t)})),this.app.listen("meeting:roleChanged",(function(t){e(t)})),this.app.listen("space:infoChanged",(function(t){e(t)}))}},{key:"onReady",value:function(){var e=Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.app.onReady());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isAppBeingShared",value:function(){return this.app.isShared}},{key:"getUser",value:function(){var e=Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.app.context.getUser());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMeeting",value:function(){var e=Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.app.context.getMeeting());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSpace",value:function(){var e=Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.app.context.getSpace());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"shareApp",value:function(e){this.app.setShareUrl(e)}},{key:"stopSharingApp",value:function(){this.app.clearShareUrl()}}]),e}()));B.onReady().then((function(){console.log("My app is running \ud83c\udf89"),r.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(_,{embeddedAppSDK:B})}),document.getElementById("root"))})),M()},89:function(e,t,n){},90:function(e,t,n){}},[[116,1,2]]]);
//# sourceMappingURL=main.7379826c.chunk.js.map